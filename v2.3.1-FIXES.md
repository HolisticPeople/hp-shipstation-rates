# v2.3.1 - UX Improvements

## Changes

### 1. âœ… Badges Enabled by Default
**Before:** Checkbox unchecked, users had to manually enable  
**After:** Checkbox **checked by default**, badges appear immediately

**Implementation:**
```php
// In both admin settings and shipping method
$show_badges = isset( $settings['show_badges'] ) ? $settings['show_badges'] === 'yes' : true; // Default to true
```

### 2. âœ… Hide Markers When Badges Disabled
**Problem:** When "Show Carrier Badges" was unchecked, the `{{UPS}}` and `{{USPS}}` markers still appeared on checkout

**Fix:** Check setting in `add_carrier_marker()` and return early if badges are disabled

**Before:**
```
â—‹ {{UPS}} UPS Ground Saver    $2.92
â—‹ {{USPS}} USPS Ground Advantage    $3.27
```

**After (badges disabled):**
```
â—‹ UPS Ground Saver    $2.92
â—‹ USPS Ground Advantage    $3.27
```

**After (badges enabled):**
```
â—‹ [UPS logo] UPS Ground Saver    $2.92
â—‹ [USPS logo] USPS Ground Advantage    $3.27
```

### 3. âœ… Adjust Method Name Spacing
**Changes:**
- Increased badge height: `20px` â†’ `24px` (slightly larger for better visibility)
- Increased right margin: `6px` â†’ `8px` (more space between badge and text)
- Added left margin: `0` â†’ `-4px` (moves text slightly left for better alignment)

**CSS:**
```css
style="display:inline-block;height:24px;width:auto;vertical-align:middle;margin-right:8px;margin-left:-4px;"
```

## Summary

| Issue | Status | Result |
|-------|--------|--------|
| Badges enabled by default | âœ… Fixed | Works immediately on fresh install |
| Hide `{{}}` when disabled | âœ… Fixed | Clean text-only display |
| Text spacing/alignment | âœ… Fixed | Better visual balance |

## Deployment

- **Version:** 2.3.1
- **Committed:** 63559d5
- **Pushed to:** master, dev
- **Status:** Deploying to staging now
- **Watch:** https://github.com/HolisticPeople/hp-shipstation-rates/actions

## Testing Checklist

After deployment:
1. âœ… Hard refresh checkout (Ctrl+Shift+R)
2. âœ… Verify badges appear by default
3. âœ… Check spacing - text should align nicely to the left of the badge
4. âœ… Go to settings, uncheck "Show Carrier Badges", save
5. âœ… Verify checkout shows clean text (no `{{}}` markers)
6. âœ… Re-enable badges, verify they return

All three issues resolved! ðŸŽ¯

